{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "c338cd40_8edd183f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000546
      },
      "writtenOn": "2022-11-18T05:49:25Z",
      "side": 1,
      "message": "What will happen if postcode length is more than 230 ? will it take first(1 to 230 or n to 230)last postcodes?",
      "revId": "e1404beb0d8e324b61881696b7b1cdc86b77e92e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2be444b5_c36d29d2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1001618
      },
      "writtenOn": "2022-11-18T08:03:44Z",
      "side": 1,
      "message": "If POST code length is more than 230, it will return last 230 POST codes.",
      "parentUuid": "c338cd40_8edd183f",
      "revId": "e1404beb0d8e324b61881696b7b1cdc86b77e92e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "94a4e204_6f78633e",
        "filename": "src/oemcommands.cpp",
        "patchSetId": 2
      },
      "lineNbr": 813,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-11-28T21:17:18Z",
      "side": 1,
      "message": "Can we use a more complete parsed RspType than a raw vector?",
      "revId": "e1404beb0d8e324b61881696b7b1cdc86b77e92e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "86230aea_62ce67a9",
        "filename": "src/oemcommands.cpp",
        "patchSetId": 2
      },
      "lineNbr": 813,
      "author": {
        "id": 1001618
      },
      "writtenOn": "2022-11-30T08:00:15Z",
      "side": 1,
      "message": "In this handler, BMC gets POST codes and then saves in one vector and this vector will be the only response data.",
      "parentUuid": "94a4e204_6f78633e",
      "revId": "e1404beb0d8e324b61881696b7b1cdc86b77e92e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "469ce49f_76c065ae",
        "filename": "src/oemcommands.cpp",
        "patchSetId": 2
      },
      "lineNbr": 813,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-11-30T16:51:04Z",
      "side": 1,
      "message": "Post codes are a vector of uint32 or uint64 though, right?  Not a raw buffer of uint8.",
      "parentUuid": "86230aea_62ce67a9",
      "revId": "e1404beb0d8e324b61881696b7b1cdc86b77e92e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "32fb57db_982cca05",
        "filename": "src/oemcommands.cpp",
        "patchSetId": 2
      },
      "lineNbr": 813,
      "author": {
        "id": 1001618
      },
      "writtenOn": "2022-12-02T05:43:33Z",
      "side": 1,
      "message": "We will check the POST code behavior.",
      "parentUuid": "469ce49f_76c065ae",
      "revId": "e1404beb0d8e324b61881696b7b1cdc86b77e92e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0b9d8c17_465a67ca",
        "filename": "src/oemcommands.cpp",
        "patchSetId": 2
      },
      "lineNbr": 813,
      "author": {
        "id": 1001618
      },
      "writtenOn": "2022-12-08T08:46:21Z",
      "side": 1,
      "message": "Hi Patrick,\n\nAfter checking, we find out that if we use vector\u003cuint64_t\u003e to get post codes, the result is shown below.\n\nThere are many useless zeroes in the result, since BMC only save one byte post codes from BIC.\n\nAlthough we use uint64_t to save primary post codes, but BIC could only support one byte data currently.\nhttps://github.com/facebook/OpenBIC/blob/main/common/dev/snoop.c#L57\n\nroot@greatlakes:~# busctl call xyz.openbmc_project.Ipmi.Host /xyz/openbmc_project/Ipmi xyz.openbmc_project.Ipmi.Server execute yyyaya{sv} 0x30 0 0x49 0 1 \"hostId\" i 0\n(yyyyay) 49 0 73 0 1840 183 0 0 0 0 0 0 0 126 0 0 0 0 0 0 0 112 0 0 0 0 0 0 0 126 0 0 0 0 0 0 0 183 0 0 0 0 0 0 0 126 0 0 0 0 0 0 0 183 0 0 0 0 0 0 0 190 0 0 0 0 0 0 0 126 0 0 0 0 0 0 0 210 0 0 0 0 0 0 0 126 0 0 0 0 0 0 0 210 0 0 0 0 0 0 0 214 0 0 0 0 0 0 0 112 0 0 0 0 0 0 0 185 0 0 0 0 0 0 0 126 0 0 0 0 0 0 0 183 0 0 0 0 0 0 0 184 0 0 0 0 0 0 0 215 0 0 0 0 0 0 0 201 0 0 0 0 0 0 0 218 0 0 0 0 0 0 0 217 0 0 0 0 0 0 0 219 0 0 0 0 0 0 0 186 0 0 0 0 0 0 0 185 0 0 0 0 0 0 0 112 0 0 0 0 0 0 0 126 0 0 0 0 0 0 0 203 0 0 0 0 0 0 0 187 0 0 0 0 0 0 0 126 0 0 0 0 0 0 0 208 0 0 0 0 0 0 0 126 0 0 0 0 0 0 0 208 0 0 0 0 0 0 0 126 0 0 0 0 0 0 0 208 0 0 0 0 0 0 0 126 0 0 0 0 0 0 0 209 0 0 0 0 0 0 0 126 0 0 0 0 0 0 0 209 0 0 0 0 0 0 0 126 0 0 0 0 0 0 0 112 0 0 0 0 0 0 0 126 0 0 0 0 0 0 0 183 0 0 0 0 0 0 0 202 0 0 0 0 0 0 0 220 0 0 0 0 0 0 0 126 0 0 0 0 0 0 0 204 0 0 0 0 0 0 0 188 0 0 0 0 0 0 0 206 0 0 0 0 0 0 0 198 0 0 0 0 0 0 0 126 0 0 0 0 0 0 0 191 0 0 0 0 0 0 0 175 0 0 0 0 0 0 0 80 0 0 0 0 0 0 0",
      "parentUuid": "32fb57db_982cca05",
      "revId": "e1404beb0d8e324b61881696b7b1cdc86b77e92e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f3e71bbe_c39686fc",
        "filename": "src/oemcommands.cpp",
        "patchSetId": 2
      },
      "lineNbr": 813,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-12-08T13:21:44Z",
      "side": 1,
      "message": "The AMD systems have 4 byte post codes already.  How are we going to handle those?\n\nI don\u0027t think \"useless zeros\" is a good reason.  If we don\u0027t handle at least 4 byte post codes we\u0027re just going to be making changes to this code anyhow in the near future.  (I think there are ARM chips that use 64 byte post codes, so we should just follow what the dbus-interface is for post code sizes in the data we send here.)",
      "parentUuid": "0b9d8c17_465a67ca",
      "revId": "e1404beb0d8e324b61881696b7b1cdc86b77e92e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cfa082e7_b82a2f80",
        "filename": "src/oemcommands.cpp",
        "patchSetId": 2
      },
      "lineNbr": 813,
      "author": {
        "id": 1001618
      },
      "writtenOn": "2022-12-09T09:04:01Z",
      "side": 1,
      "message": "We realized this situation as well.\n\nThus, we will discuss and provide a complete design for different CPU systems later.",
      "parentUuid": "f3e71bbe_c39686fc",
      "revId": "e1404beb0d8e324b61881696b7b1cdc86b77e92e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "41be22f6_df41a5f0",
        "filename": "src/oemcommands.cpp",
        "patchSetId": 2
      },
      "lineNbr": 813,
      "author": {
        "id": 1001618
      },
      "writtenOn": "2022-12-13T09:17:40Z",
      "side": 1,
      "message": "Hi Patrick,\n\nAfter testing, the command results from host is below\n\n[root@OpenBIC_Refactor_Slot3 ~]# ipmitool raw 0x30 0x49\n 40 00 00 00 00 00 00 00 42 00 00 00 00 00 00 00\n 47 00 00 00 00 00 00 00 4f 00 00 00 00 00 00 00\n 61 00 00 00 00 00 00 00 68 00 00 00 00 00 00 00\n 70 00 00 00 00 00 00 00 79 00 00 00 00 00 00 00\n 91 00 00 00 00 00 00 00 92 00 00 00 00 00 00 00\n 94 00 00 00 00 00 00 00 95 00 00 00 00 00 00 00\n 96 00 00 00 00 00 00 00 ef 00 00 00 00 00 00 00\n 92 00 00 00 00 00 00 00 99 00 00 00 00 00 00 00\n 91 00 00 00 00 00 00 00 92 00 00 00 00 00 00 00\n 97 00 00 00 00 00 00 00 98 00 00 00 00 00 00 00\n 92 00 00 00 00 00 00 00 99 00 00 00 00 00 00 00\n 92 00 00 00 00 00 00 00 ad 00 00 00 00 00 00 00\n b1 00 00 00 00 00 00 00 84 00 00 00 00 00 00 00\n aa 00 00 00 00 00 00 00 e3 00 00 00 00 00 00 00\n\n\nAs we can see, due to IPMB limitation, this handler could only return some post codes from the end.\n\nIn our CPU system, post codes are one byte.\nHowever, we use uint64_t vector to return, there are 7 zeroes following our post codes.\nIn that case, the amount of post codes that BMC could return is really small.\n\nDo you agree with this design?",
      "parentUuid": "cfa082e7_b82a2f80",
      "revId": "e1404beb0d8e324b61881696b7b1cdc86b77e92e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b7346a9b_78420ae5",
        "filename": "src/oemcommands.cpp",
        "patchSetId": 2
      },
      "lineNbr": 813,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-12-15T17:59:26Z",
      "side": 1,
      "message": "Why is getting the postcodes from the BMC over IPMI interesting?\n\nI\u0027m trying to make sure that we don\u0027t have system-specific code for interacting with the BIC when it comes to postcodes.  How do we make this portable between systems with different processor architectures?",
      "parentUuid": "41be22f6_df41a5f0",
      "revId": "e1404beb0d8e324b61881696b7b1cdc86b77e92e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bd4fb724_ce2916b8",
        "filename": "src/oemcommands.cpp",
        "patchSetId": 2
      },
      "lineNbr": 813,
      "author": {
        "id": 1001618
      },
      "writtenOn": "2022-12-20T02:52:56Z",
      "side": 1,
      "message": "Hi Patrick,\n\nWe propose that we could add a option called \"support-post-code-byte\" in meson meaning that current CPU supports which kind of POST code for different CPU systems.\n\nIn that case, different projects could get corresponding POST codes without any meaningless zeroes.",
      "parentUuid": "b7346a9b_78420ae5",
      "revId": "e1404beb0d8e324b61881696b7b1cdc86b77e92e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0664959f_36057023",
        "filename": "src/oemcommands.cpp",
        "patchSetId": 2
      },
      "lineNbr": 813,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-01-25T14:08:29Z",
      "side": 1,
      "message": "I would prefer to avoid different meson options on different machines as much as possible because it means we don\u0027t get compile checking in CI and then things break in openbmc/openbmc.\n\nWhere are the \"extra zeros\" visible?  Is it just going across the dbus?  Is it going out the debug card?\n\nExtra stuff on the dbus doesn\u0027t matter, does it?",
      "parentUuid": "bd4fb724_ce2916b8",
      "revId": "e1404beb0d8e324b61881696b7b1cdc86b77e92e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a74a65e2_b9d83aac",
        "filename": "src/oemcommands.cpp",
        "patchSetId": 2
      },
      "lineNbr": 819,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-11-28T21:17:18Z",
      "side": 1,
      "message": "Why is this \"0\"?  Shouldn\u0027t it match the host ID?",
      "range": {
        "startLine": 819,
        "startChar": 49,
        "endLine": 819,
        "endChar": 50
      },
      "revId": "e1404beb0d8e324b61881696b7b1cdc86b77e92e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b9121a65_e736db4e",
        "filename": "src/oemcommands.cpp",
        "patchSetId": 2
      },
      "lineNbr": 819,
      "author": {
        "id": 1001618
      },
      "writtenOn": "2022-11-30T01:23:39Z",
      "side": 1,
      "message": "All the Dbus object path name is defined as\n/xyz/openbmc_project/State/Boot/PostCode0 no matter which host ID it is.\n\nReference:\nhttps://github.com/openbmc/phosphor-post-code-manager/blob/master/meson.build#L16\n\nBMC creates different Dbus services like xyz.openbmc_project.State.Boot.PostCode$host_id to save POST codes from different hosts.",
      "parentUuid": "a74a65e2_b9d83aac",
      "range": {
        "startLine": 819,
        "startChar": 49,
        "endLine": 819,
        "endChar": 50
      },
      "revId": "e1404beb0d8e324b61881696b7b1cdc86b77e92e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "157d321f_ff6fbf3c",
        "filename": "src/oemcommands.cpp",
        "patchSetId": 2
      },
      "lineNbr": 819,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-11-30T16:51:04Z",
      "side": 1,
      "message": "Please work with Velu to get the post code manager fixed.  This constant is wrong.",
      "parentUuid": "b9121a65_e736db4e",
      "range": {
        "startLine": 819,
        "startChar": 49,
        "endLine": 819,
        "endChar": 50
      },
      "revId": "e1404beb0d8e324b61881696b7b1cdc86b77e92e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "95039ac5_ec2ae4e9",
        "filename": "src/oemcommands.cpp",
        "patchSetId": 2
      },
      "lineNbr": 819,
      "author": {
        "id": 1001618
      },
      "writtenOn": "2022-12-02T05:44:22Z",
      "side": 1,
      "message": "We will work with Velu to try to fix this issue.",
      "parentUuid": "157d321f_ff6fbf3c",
      "range": {
        "startLine": 819,
        "startChar": 49,
        "endLine": 819,
        "endChar": 50
      },
      "revId": "e1404beb0d8e324b61881696b7b1cdc86b77e92e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d62b55f1_16374ef3",
        "filename": "src/oemcommands.cpp",
        "patchSetId": 2
      },
      "lineNbr": 819,
      "author": {
        "id": 1000866
      },
      "writtenOn": "2022-12-02T05:59:46Z",
      "side": 1,
      "message": "Please find the fix in https://gerrit.openbmc.org/c/openbmc/phosphor-post-code-manager/+/59069. Kindly let me know if there is a question.",
      "parentUuid": "95039ac5_ec2ae4e9",
      "range": {
        "startLine": 819,
        "startChar": 49,
        "endLine": 819,
        "endChar": 50
      },
      "revId": "e1404beb0d8e324b61881696b7b1cdc86b77e92e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4359dee5_4a5092b5",
        "filename": "src/oemcommands.cpp",
        "patchSetId": 2
      },
      "lineNbr": 850,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-11-28T21:17:18Z",
      "side": 1,
      "message": "Is get\u003cuint64_t\u003e more obvious or is get\u003c0\u003e?",
      "range": {
        "startLine": 850,
        "startChar": 42,
        "endLine": 850,
        "endChar": 43
      },
      "revId": "e1404beb0d8e324b61881696b7b1cdc86b77e92e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bf4d25a8_aa5bbddc",
        "filename": "src/oemcommands.cpp",
        "patchSetId": 2
      },
      "lineNbr": 850,
      "author": {
        "id": 1001618
      },
      "writtenOn": "2022-11-30T01:51:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4359dee5_4a5092b5",
      "range": {
        "startLine": 850,
        "startChar": 42,
        "endLine": 850,
        "endChar": 43
      },
      "revId": "e1404beb0d8e324b61881696b7b1cdc86b77e92e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}